INFO:root:日志系统已初始化
INFO:datasets:PyTorch version 2.6.0 available.
d:\desktop\code\test.py:10: LangChainDeprecationWarning: The class `HuggingFaceBgeEmbeddings` was deprecated in LangChain 0.2.2 and will be removed in 1.0. An updated version of the class exists in the :class:`~langchain-huggingface package and should be used instead. To use it run `pip install -U :class:`~langchain-huggingface` and import as `from :class:`~langchain_huggingface import HuggingFaceEmbeddings``.
  embeddings = HuggingFaceBgeEmbeddings(
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5
INFO:faiss.loader:Loading faiss with AVX2 support.
INFO:faiss.loader:Successfully loaded faiss with AVX2 support.
INFO:faiss:Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
['什么是宏利环球货币保障计划？', '保单的身故赔偿如何计算？', '保单支持哪些货币？', '如何行使终期红利锁定权益？']
['这是一款分红型终身人寿保险计划，提供身故赔偿、意外身故赔偿及现金价值积累功 能，支持多币种转换，并包含终期红利等非保证利益。', '身故赔偿为以下两者的较高者：(a) 表格所示现金价值 + 终期红利（如有）；或 (b) 所 有已缴保费总和。若受保人在首5年内意外身故，还可额外获得意外身故赔偿（上限为125, 000美元或等值货币）。', '支持美元、港币、人民币、澳元、加元、英镑、新加坡元等，且可从第3个保单周年日 起申请货币转换。', '从第15个保单周年日起，保单持有人可申请将终期红利的最高50%锁定为累积已锁定终 期红利，需在31日内提交书面申请，锁定后不可撤回']
INFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: cpu
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: BAAI/bge-base-zh-v1.5
Evaluating:   0%|                                                                                  | 0/4 [00:00<?, ?it/s]
Query: 什么是宏利环球货币保障计划？
Correct Answer: 这是一款分红型终身人寿保险计划，提供身故赔偿、意外身故赔偿及现金价值积累功 能，支持多币种转换，并包含终期红利等非保证利益。
Retrieved Documents: ['受保人：保单编号 ：保单生效日：  \n\n# 宏利环球货币保障计划  \n\n此乃分红人寿保单。  \n\n![](images/65f55d824590694aa7114388df9e136c1b6e3c93', '受保人：保单编号 ：保单生效日：  \n\n# 宏利环球货币保障计划  \n\n此乃分红人寿保单。  \n\n![](images/65f55d824590694aa7114388df9e136c1b6e3c93', '# 6. 貨幣風險  \n\n本計劃適用以外幣作為貨幣單位 。 您應考慮潛在的貨幣風險 。 匯率可跌亦可升 ， 而任何匯率波動會直接影響您以本地貨幣計算時所需繳付保費及利益的金額 。 匯率波動可能會造成損']

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.58it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.58it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.59it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 10.46it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.57it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  6.89it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  6.89it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.42it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 10.71it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.58it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 10.66it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.47it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.98it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.98it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.55it/s]
Evaluating:  25%|##################5                                                       | 1/4 [00:01<00:03,  1.29s/it]
Query: 保单的身故赔偿如何计算？
Correct Answer: 身故赔偿为以下两者的较高者：(a) 表格所示现金价值 + 终期红利（如有）；或 (b) 所 有已缴保费总和。若受保人在首5年内意外身故，还可额外获得意外身故赔偿（上限为125, 000美元或等值货币）。
Retrieved Documents: ['# 10. 身故赔偿\n当受保人身故及本公司收到符合「索偿通知及证明」条款规定的认可身故证明，并且经本公司批核后，本公司将给予身故赔偿。任何欠款将根据本保单条款从支付金额内扣除。  \n\n受限于本保单的条', '# 10. 身故赔偿\n当受保人身故及本公司收到符合「索偿通知及证明」条款规定的认可身故证明，并且经本公司批核后，本公司将给予身故赔偿。任何欠款将根据本保单条款从支付金额内扣除。  \n\n受限于本保单的条', '# 11. 意外身故赔偿  \n\n当受保人在首五个保单年度内意外身故及本公司收到受保人身故的认可证明，并且经本公司批核后，本公司将根据「受益人」条款、「意外身故赔偿不受保项目」条款及「索偿通知及证明」条']

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.94it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.92it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 15.49it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.28it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.28it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 15.82it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.33it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.28it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 15.73it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.98it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.98it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 15.77it/s]
Evaluating:  50%|#####################################                                     | 2/4 [00:02<00:02,  1.06s/it]
Query: 保单支持哪些货币？
Correct Answer: 支持美元、港币、人民币、澳元、加元、英镑、新加坡元等，且可从第3个保单周年日 起申请货币转换。
Retrieved Documents: ['$xx,xxx.xx</td><td></td><td></td></tr><tr><td>货币</td><td>列于本页及整份保单内之银码均以<美元/港币/人民币/澳元/加元/英镑/新加坡元>为 位', '美元  \n港元  \n人民幣  \n加元  \n澳元  \n英鎊  \n新加坡元  \n\n由第3個保單周年日起 ， 您可於每個保單年度在無須另外進行驗身的情況下 ， 透過將您的計劃轉換至可提供您所選擇之貨幣（「新', '在任何情況下亦必須符合新計劃及原有計劃的產品規定，例如最高投保額、最低投保額及最低保費要求等  \n新計劃的保單貨幣可能有別於原有計劃的保單貨幣。轉保時，港元與美元相等金額將按照1 美元 : 8 港元兌']

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 12.75it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 24.22it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.19it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.12it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 24.62it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 14.78it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 24.15it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 12.97it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 23.64it/s]
Evaluating:  75%|#######################################################5                  | 3/4 [00:02<00:00,  1.16it/s]
Query: 如何行使终期红利锁定权益？
Correct Answer: 从第15个保单周年日起，保单持有人可申请将终期红利的最高50%锁定为累积已锁定终 期红利，需在31日内提交书面申请，锁定后不可撤回
Retrieved Documents: ['# 一般条款  \n\n(2) 终期红利锁定权益  \n\n于终期红利锁定周年日起计三十一 （31） 日内且受保人在世期间，保单持有人可选择将终期红利转移并作为累积已锁定终期红利的一部分，但任何连续五 （5）', '6. 保留於本公司之非保證入息的積存利率並非保證及我們可不時對之作出變動 。 請參閱以下 「重要事項」 的 「影響非保證終期紅利 、 非保證入息及非保證入息／已鎖定終期紅利之積存利率的主要風險」 。 ', '当行使终期红利锁定权益后，已锁定的终期红利金额将会从当时的终期红利中扣除。  \n\n# 19. 累积已锁定终期红利\n\n任何根据「终期红利锁定权益」条款而锁定的终期红利将由本公司在保单内积存生息直至保单持']

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.00it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.00it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.20it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.34it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.31it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.00it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.67it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.60it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.70it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  6.72it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  6.72it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.10it/s]
Evaluating: 100%|##########################################################################| 4/4 [00:03<00:00,  1.15it/s]Evaluating: 100%|##########################################################################| 4/4 [00:03<00:00,  1.08it/s]

Average Precision: 0.5833
Average Recall: 0.7500
