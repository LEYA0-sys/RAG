INFO:root:æ—¥å¿—ç³»ç»Ÿå·²åˆå§‹åŒ–
INFO:datasets:PyTorch version 2.6.0 available.
d:\desktop\code\test.py:10: LangChainDeprecationWarning: The class `HuggingFaceBgeEmbeddings` was deprecated in LangChain 0.2.2 and will be removed in 1.0. An updated version of the class exists in the :class:`~langchain-huggingface package and should be used instead. To use it run `pip install -U :class:`~langchain-huggingface` and import as `from :class:`~langchain_huggingface import HuggingFaceEmbeddings``.
  embeddings = HuggingFaceBgeEmbeddings(
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5
INFO:faiss.loader:Loading faiss with AVX2 support.
INFO:faiss.loader:Successfully loaded faiss with AVX2 support.
INFO:faiss:Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
['ä»€ä¹ˆæ˜¯å®åˆ©ç¯çƒè´§å¸ä¿éšœè®¡åˆ’ï¼Ÿ', 'ä¿å•çš„èº«æ•…èµ”å¿å¦‚ä½•è®¡ç®—ï¼Ÿ', 'ä¿å•æ”¯æŒå“ªäº›è´§å¸ï¼Ÿ', 'å¦‚ä½•è¡Œä½¿ç»ˆæœŸçº¢åˆ©é”å®šæƒç›Šï¼Ÿ']
['è¿™æ˜¯ä¸€æ¬¾åˆ†çº¢å‹ç»ˆèº«äººå¯¿ä¿é™©è®¡åˆ’ï¼Œæä¾›èº«æ•…èµ”å¿ã€æ„å¤–èº«æ•…èµ”å¿åŠç°é‡‘ä»·å€¼ç§¯ç´¯åŠŸ èƒ½ï¼Œæ”¯æŒå¤šå¸ç§è½¬æ¢ï¼Œå¹¶åŒ…å«ç»ˆæœŸçº¢åˆ©ç­‰éä¿è¯åˆ©ç›Šã€‚', 'èº«æ•…èµ”å¿ä¸ºä»¥ä¸‹ä¸¤è€…çš„è¾ƒé«˜è€…ï¼š(a) è¡¨æ ¼æ‰€ç¤ºç°é‡‘ä»·å€¼ + ç»ˆæœŸçº¢åˆ©ï¼ˆå¦‚æœ‰ï¼‰ï¼›æˆ– (b) æ‰€ æœ‰å·²ç¼´ä¿è´¹æ€»å’Œã€‚è‹¥å—ä¿äººåœ¨é¦–5å¹´å†…æ„å¤–èº«æ•…ï¼Œè¿˜å¯é¢å¤–è·å¾—æ„å¤–èº«æ•…èµ”å¿ï¼ˆä¸Šé™ä¸º125, 000ç¾å…ƒæˆ–ç­‰å€¼è´§å¸ï¼‰ã€‚', 'æ”¯æŒç¾å…ƒã€æ¸¯å¸ã€äººæ°‘å¸ã€æ¾³å…ƒã€åŠ å…ƒã€è‹±é•‘ã€æ–°åŠ å¡å…ƒç­‰ï¼Œä¸”å¯ä»ç¬¬3ä¸ªä¿å•å‘¨å¹´æ—¥ èµ·ç”³è¯·è´§å¸è½¬æ¢ã€‚', 'ä»ç¬¬15ä¸ªä¿å•å‘¨å¹´æ—¥èµ·ï¼Œä¿å•æŒæœ‰äººå¯ç”³è¯·å°†ç»ˆæœŸçº¢åˆ©çš„æœ€é«˜50%é”å®šä¸ºç´¯ç§¯å·²é”å®šç»ˆ æœŸçº¢åˆ©ï¼Œéœ€åœ¨31æ—¥å†…æäº¤ä¹¦é¢ç”³è¯·ï¼Œé”å®šåä¸å¯æ’¤å›']
INFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: cpu
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: BAAI/bge-base-zh-v1.5
Evaluating:   0%|                                                                                  | 0/4 [00:00<?, ?it/s]
Query: ä»€ä¹ˆæ˜¯å®åˆ©ç¯çƒè´§å¸ä¿éšœè®¡åˆ’ï¼Ÿ
Correct Answer: è¿™æ˜¯ä¸€æ¬¾åˆ†çº¢å‹ç»ˆèº«äººå¯¿ä¿é™©è®¡åˆ’ï¼Œæä¾›èº«æ•…èµ”å¿ã€æ„å¤–èº«æ•…èµ”å¿åŠç°é‡‘ä»·å€¼ç§¯ç´¯åŠŸ èƒ½ï¼Œæ”¯æŒå¤šå¸ç§è½¬æ¢ï¼Œå¹¶åŒ…å«ç»ˆæœŸçº¢åˆ©ç­‰éä¿è¯åˆ©ç›Šã€‚
Retrieved Documents: ['å—ä¿äººï¼šä¿å•ç¼–å· ï¼šä¿å•ç”Ÿæ•ˆæ—¥ï¼š  \n\n# å®åˆ©ç¯çƒè´§å¸ä¿éšœè®¡åˆ’  \n\næ­¤ä¹ƒåˆ†çº¢äººå¯¿ä¿å•ã€‚  \n\n![](images/65f55d824590694aa7114388df9e136c1b6e3c93', 'å—ä¿äººï¼šä¿å•ç¼–å· ï¼šä¿å•ç”Ÿæ•ˆæ—¥ï¼š  \n\n# å®åˆ©ç¯çƒè´§å¸ä¿éšœè®¡åˆ’  \n\næ­¤ä¹ƒåˆ†çº¢äººå¯¿ä¿å•ã€‚  \n\n![](images/65f55d824590694aa7114388df9e136c1b6e3c93', '# 6. è²¨å¹£é¢¨éšª  \n\næœ¬è¨ˆåŠƒé©ç”¨ä»¥å¤–å¹£ä½œç‚ºè²¨å¹£å–®ä½ ã€‚ æ‚¨æ‡‰è€ƒæ…®æ½›åœ¨çš„è²¨å¹£é¢¨éšª ã€‚ åŒ¯ç‡å¯è·Œäº¦å¯å‡ ï¼Œ è€Œä»»ä½•åŒ¯ç‡æ³¢å‹•æœƒç›´æ¥å½±éŸ¿æ‚¨ä»¥æœ¬åœ°è²¨å¹£è¨ˆç®—æ™‚æ‰€éœ€ç¹³ä»˜ä¿è²»åŠåˆ©ç›Šçš„é‡‘é¡ ã€‚ åŒ¯ç‡æ³¢å‹•å¯èƒ½æœƒé€ æˆæ']

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.58it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.58it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.59it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 10.46it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.57it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  6.89it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  6.89it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.42it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 10.71it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.58it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 10.66it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.47it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.98it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.98it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.55it/s]
Evaluating:  25%|##################5                                                       | 1/4 [00:01<00:03,  1.29s/it]
Query: ä¿å•çš„èº«æ•…èµ”å¿å¦‚ä½•è®¡ç®—ï¼Ÿ
Correct Answer: èº«æ•…èµ”å¿ä¸ºä»¥ä¸‹ä¸¤è€…çš„è¾ƒé«˜è€…ï¼š(a) è¡¨æ ¼æ‰€ç¤ºç°é‡‘ä»·å€¼ + ç»ˆæœŸçº¢åˆ©ï¼ˆå¦‚æœ‰ï¼‰ï¼›æˆ– (b) æ‰€ æœ‰å·²ç¼´ä¿è´¹æ€»å’Œã€‚è‹¥å—ä¿äººåœ¨é¦–5å¹´å†…æ„å¤–èº«æ•…ï¼Œè¿˜å¯é¢å¤–è·å¾—æ„å¤–èº«æ•…èµ”å¿ï¼ˆä¸Šé™ä¸º125, 000ç¾å…ƒæˆ–ç­‰å€¼è´§å¸ï¼‰ã€‚
Retrieved Documents: ['# 10. èº«æ•…èµ”å¿\nå½“å—ä¿äººèº«æ•…åŠæœ¬å…¬å¸æ”¶åˆ°ç¬¦åˆã€Œç´¢å¿é€šçŸ¥åŠè¯æ˜ã€æ¡æ¬¾è§„å®šçš„è®¤å¯èº«æ•…è¯æ˜ï¼Œå¹¶ä¸”ç»æœ¬å…¬å¸æ‰¹æ ¸åï¼Œæœ¬å…¬å¸å°†ç»™äºˆèº«æ•…èµ”å¿ã€‚ä»»ä½•æ¬ æ¬¾å°†æ ¹æ®æœ¬ä¿å•æ¡æ¬¾ä»æ”¯ä»˜é‡‘é¢å†…æ‰£é™¤ã€‚  \n\nå—é™äºæœ¬ä¿å•çš„æ¡', '# 10. èº«æ•…èµ”å¿\nå½“å—ä¿äººèº«æ•…åŠæœ¬å…¬å¸æ”¶åˆ°ç¬¦åˆã€Œç´¢å¿é€šçŸ¥åŠè¯æ˜ã€æ¡æ¬¾è§„å®šçš„è®¤å¯èº«æ•…è¯æ˜ï¼Œå¹¶ä¸”ç»æœ¬å…¬å¸æ‰¹æ ¸åï¼Œæœ¬å…¬å¸å°†ç»™äºˆèº«æ•…èµ”å¿ã€‚ä»»ä½•æ¬ æ¬¾å°†æ ¹æ®æœ¬ä¿å•æ¡æ¬¾ä»æ”¯ä»˜é‡‘é¢å†…æ‰£é™¤ã€‚  \n\nå—é™äºæœ¬ä¿å•çš„æ¡', '# 11. æ„å¤–èº«æ•…èµ”å¿  \n\nå½“å—ä¿äººåœ¨é¦–äº”ä¸ªä¿å•å¹´åº¦å†…æ„å¤–èº«æ•…åŠæœ¬å…¬å¸æ”¶åˆ°å—ä¿äººèº«æ•…çš„è®¤å¯è¯æ˜ï¼Œå¹¶ä¸”ç»æœ¬å…¬å¸æ‰¹æ ¸åï¼Œæœ¬å…¬å¸å°†æ ¹æ®ã€Œå—ç›Šäººã€æ¡æ¬¾ã€ã€Œæ„å¤–èº«æ•…èµ”å¿ä¸å—ä¿é¡¹ç›®ã€æ¡æ¬¾åŠã€Œç´¢å¿é€šçŸ¥åŠè¯æ˜ã€æ¡']

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.94it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.92it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 15.49it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.28it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.28it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 15.82it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.33it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.28it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 15.73it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.98it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.98it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 15.77it/s]
Evaluating:  50%|#####################################                                     | 2/4 [00:02<00:02,  1.06s/it]
Query: ä¿å•æ”¯æŒå“ªäº›è´§å¸ï¼Ÿ
Correct Answer: æ”¯æŒç¾å…ƒã€æ¸¯å¸ã€äººæ°‘å¸ã€æ¾³å…ƒã€åŠ å…ƒã€è‹±é•‘ã€æ–°åŠ å¡å…ƒç­‰ï¼Œä¸”å¯ä»ç¬¬3ä¸ªä¿å•å‘¨å¹´æ—¥ èµ·ç”³è¯·è´§å¸è½¬æ¢ã€‚
Retrieved Documents: ['$xx,xxx.xx</td><td></td><td></td></tr><tr><td>è´§å¸</td><td>åˆ—äºæœ¬é¡µåŠæ•´ä»½ä¿å•å†…ä¹‹é“¶ç å‡ä»¥<ç¾å…ƒ/æ¸¯å¸/äººæ°‘å¸/æ¾³å…ƒ/åŠ å…ƒ/è‹±é•‘/æ–°åŠ å¡å…ƒ>ä¸º ä½', 'ç¾å…ƒ  \næ¸¯å…ƒ  \näººæ°‘å¹£  \nåŠ å…ƒ  \næ¾³å…ƒ  \nè‹±éŠ  \næ–°åŠ å¡å…ƒ  \n\nç”±ç¬¬3å€‹ä¿å–®å‘¨å¹´æ—¥èµ· ï¼Œ æ‚¨å¯æ–¼æ¯å€‹ä¿å–®å¹´åº¦åœ¨ç„¡é ˆå¦å¤–é€²è¡Œé©—èº«çš„æƒ…æ³ä¸‹ ï¼Œ é€éå°‡æ‚¨çš„è¨ˆåŠƒè½‰æ›è‡³å¯æä¾›æ‚¨æ‰€é¸æ“‡ä¹‹è²¨å¹£ï¼ˆã€Œæ–°', 'åœ¨ä»»ä½•æƒ…æ³ä¸‹äº¦å¿…é ˆç¬¦åˆæ–°è¨ˆåŠƒåŠåŸæœ‰è¨ˆåŠƒçš„ç”¢å“è¦å®šï¼Œä¾‹å¦‚æœ€é«˜æŠ•ä¿é¡ã€æœ€ä½æŠ•ä¿é¡åŠæœ€ä½ä¿è²»è¦æ±‚ç­‰  \næ–°è¨ˆåŠƒçš„ä¿å–®è²¨å¹£å¯èƒ½æœ‰åˆ¥æ–¼åŸæœ‰è¨ˆåŠƒçš„ä¿å–®è²¨å¹£ã€‚è½‰ä¿æ™‚ï¼Œæ¸¯å…ƒèˆ‡ç¾å…ƒç›¸ç­‰é‡‘é¡å°‡æŒ‰ç…§1 ç¾å…ƒ : 8 æ¸¯å…ƒå…Œ']

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 12.75it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 24.22it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.19it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.12it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 24.62it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 14.78it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 24.15it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 12.97it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 23.64it/s]
Evaluating:  75%|#######################################################5                  | 3/4 [00:02<00:00,  1.16it/s]
Query: å¦‚ä½•è¡Œä½¿ç»ˆæœŸçº¢åˆ©é”å®šæƒç›Šï¼Ÿ
Correct Answer: ä»ç¬¬15ä¸ªä¿å•å‘¨å¹´æ—¥èµ·ï¼Œä¿å•æŒæœ‰äººå¯ç”³è¯·å°†ç»ˆæœŸçº¢åˆ©çš„æœ€é«˜50%é”å®šä¸ºç´¯ç§¯å·²é”å®šç»ˆ æœŸçº¢åˆ©ï¼Œéœ€åœ¨31æ—¥å†…æäº¤ä¹¦é¢ç”³è¯·ï¼Œé”å®šåä¸å¯æ’¤å›
Retrieved Documents: ['# ä¸€èˆ¬æ¡æ¬¾  \n\n(2) ç»ˆæœŸçº¢åˆ©é”å®šæƒç›Š  \n\näºç»ˆæœŸçº¢åˆ©é”å®šå‘¨å¹´æ—¥èµ·è®¡ä¸‰åä¸€ ï¼ˆ31ï¼‰ æ—¥å†…ä¸”å—ä¿äººåœ¨ä¸–æœŸé—´ï¼Œä¿å•æŒæœ‰äººå¯é€‰æ‹©å°†ç»ˆæœŸçº¢åˆ©è½¬ç§»å¹¶ä½œä¸ºç´¯ç§¯å·²é”å®šç»ˆæœŸçº¢åˆ©çš„ä¸€éƒ¨åˆ†ï¼Œä½†ä»»ä½•è¿ç»­äº” ï¼ˆ5ï¼‰', '6. ä¿ç•™æ–¼æœ¬å…¬å¸ä¹‹éä¿è­‰å…¥æ¯çš„ç©å­˜åˆ©ç‡ä¸¦éä¿è­‰åŠæˆ‘å€‘å¯ä¸æ™‚å°ä¹‹ä½œå‡ºè®Šå‹• ã€‚ è«‹åƒé–±ä»¥ä¸‹ ã€Œé‡è¦äº‹é …ã€ çš„ ã€Œå½±éŸ¿éä¿è­‰çµ‚æœŸç´…åˆ© ã€ éä¿è­‰å…¥æ¯åŠéä¿è­‰å…¥æ¯ï¼å·²é–å®šçµ‚æœŸç´…åˆ©ä¹‹ç©å­˜åˆ©ç‡çš„ä¸»è¦é¢¨éšªã€ ã€‚ ', 'å½“è¡Œä½¿ç»ˆæœŸçº¢åˆ©é”å®šæƒç›Šåï¼Œå·²é”å®šçš„ç»ˆæœŸçº¢åˆ©é‡‘é¢å°†ä¼šä»å½“æ—¶çš„ç»ˆæœŸçº¢åˆ©ä¸­æ‰£é™¤ã€‚  \n\n# 19. ç´¯ç§¯å·²é”å®šç»ˆæœŸçº¢åˆ©\n\nä»»ä½•æ ¹æ®ã€Œç»ˆæœŸçº¢åˆ©é”å®šæƒç›Šã€æ¡æ¬¾è€Œé”å®šçš„ç»ˆæœŸçº¢åˆ©å°†ç”±æœ¬å…¬å¸åœ¨ä¿å•å†…ç§¯å­˜ç”Ÿæ¯ç›´è‡³ä¿å•æŒ']

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.00it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.00it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.20it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.34it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  7.31it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 19.00it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.67it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  8.60it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.70it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][A
Batches: 100%|#############################################################################| 1/1 [00:00<00:00,  6.72it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00,  6.72it/s]

Batches:   0%|                                                                                     | 0/1 [00:00<?, ?it/s][ABatches: 100%|#############################################################################| 1/1 [00:00<00:00, 18.10it/s]
Evaluating: 100%|##########################################################################| 4/4 [00:03<00:00,  1.15it/s]Evaluating: 100%|##########################################################################| 4/4 [00:03<00:00,  1.08it/s]

Average Precision: 0.5833
Average Recall: 0.7500
